<p-sidebar
  [(visible)]="visible"
  position="bottom"
  [modal]="false"
  [showCloseIcon]="false"
  [baseZIndex]="10000"
  styleClass="bottom-sheet"
>
  <div #dragHandle class="drag-handle">
    <div class="drag-indicator"></div>
  </div>

  <!-- Sección de detalles expansible -->
  <div #detailsSection class="details-section" [class.expanded]="isExpanded">
    <div class="details-content">
      <div class="detail-row">
        <span>Subtotal</span>
        <span>${{ detalles.subtotal.toFixed(2) }}</span>
      </div>
      <div class="detail-row">
        <span>Impuestos</span>
        <span>${{ detalles.impuestos.toFixed(2) }}</span>
      </div>
      <div class="detail-row">
        <span>Envío</span>
        <span>${{ detalles.envio.toFixed(2) }}</span>
      </div>
    </div>
  </div>

  <!-- Sección fija -->
  <div class="fixed-section">
    <div class="total-row">
      <div class="total-content">
        <h2>Total a pagar</h2>
        <span class="total-amount">${{ total.toFixed(2) }}</span>
      </div>
      <button
        pButton
        [icon]="isExpanded ? 'pi pi-chevron-down' : 'pi pi-chevron-up'"
        class="p-button-text p-button-sm"
        (click)="toggleExpanded()"
      ></button>
    </div>

    <button
      pButton
      label="Proceder al pago"
      class="p-button-primary w-full"
    ></button>
  </div>
</p-sidebar>
